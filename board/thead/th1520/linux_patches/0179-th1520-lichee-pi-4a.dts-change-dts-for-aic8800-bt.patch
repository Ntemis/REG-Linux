From 6723c1ca7fc2fa7e53f48b2f2abb1969e8fc3457 Mon Sep 17 00:00:00 2001
From: Han Gao <gaohan@iscas.ac.cn>
Date: Sat, 31 Aug 2024 23:53:12 +0800
Subject: [PATCH 179/400] th1520-lichee-pi-4a.dts: change dts for aic8800 bt
 Support aic8800 bt

Signed-off-by: Han Gao <gaohan@iscas.ac.cn>
---
 .../boot/dts/thead/th1520-lichee-pi-4a.dts    | 47 +++++++++++++++++++
 1 file changed, 47 insertions(+)

diff --git a/arch/riscv/boot/dts/thead/th1520-lichee-pi-4a.dts b/arch/riscv/boot/dts/thead/th1520-lichee-pi-4a.dts
index 3e18e885a33d..9331de562ea7 100644
--- a/arch/riscv/boot/dts/thead/th1520-lichee-pi-4a.dts
+++ b/arch/riscv/boot/dts/thead/th1520-lichee-pi-4a.dts
@@ -239,6 +239,13 @@ codec {
 		};
 	};
 
+	wcn_bt: wireless-bluetooth {
+		compatible = "bluetooth-platdata";
+		pinctrl-names = "default";
+		pinctrl-0 = <&pinctrl_bt_wake>;
+		BT,power-gpios    = <&ioexp2 5 0>;
+		status = "okay";
+	};
 
 	thermal-zones {
 		cpu-thermal {
@@ -585,6 +592,40 @@ qspi-pins {
 			slew-rate = <0>;
 		};
 	};
+
+	uart4_pins: uart4-0 {
+		tx-pins {
+			pins = "UART4_TXD";
+			function = "uart";
+			bias-disable;
+			drive-strength = <3>;
+			input-disable;
+			input-schmitt-disable;
+			slew-rate = <0>;
+		};
+
+		rx-pins {
+			pins = "UART4_RXD";
+			function = "uart";
+			bias-disable;
+			drive-strength = <1>;
+			input-enable;
+			input-schmitt-enable;
+			slew-rate = <0>;
+		};
+	};
+
+	pinctrl_bt_wake: bt_grp {
+		bt-pins {
+			pins = "GPIO0_28";
+			function = "gpio";
+			bias-disable;
+			drive-strength = <7>;
+			input-enable;
+			input-schmitt-enable;
+			slew-rate = <0>;
+		};
+	};
 };
 
 &padctrl_aosys {
@@ -637,6 +678,12 @@ &uart0 {
 	status = "okay";
 };
 
+&uart4 {
+	pinctrl-names = "default";
+	pinctrl-0 = <&uart4_pins>;
+	status = "okay";
+};
+
 &usb {
 	status = "okay";
 };
-- 
2.43.0

