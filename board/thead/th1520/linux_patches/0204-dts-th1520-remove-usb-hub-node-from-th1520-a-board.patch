From 0d0c4ef12884d2ead790f90eaa474afaa34d9cd4 Mon Sep 17 00:00:00 2001
From: Xiangyi Zeng <xiangyi.zeng@linux.alibaba.com>
Date: Sun, 1 Sep 2024 00:35:37 +0800
Subject: [PATCH 204/400] dts: th1520: remove usb hub node from th1520-a board

Signed-off-by: Xiangyi Zeng <xiangyi.zeng@linux.alibaba.com>
Signed-off-by: Han Gao <gaohan@iscas.ac.cn>
---
 arch/riscv/boot/dts/thead/th1520-a-val.dtsi | 32 ---------------------
 1 file changed, 32 deletions(-)

diff --git a/arch/riscv/boot/dts/thead/th1520-a-val.dtsi b/arch/riscv/boot/dts/thead/th1520-a-val.dtsi
index 54e5fa749393..e32ee0ff36b6 100644
--- a/arch/riscv/boot/dts/thead/th1520-a-val.dtsi
+++ b/arch/riscv/boot/dts/thead/th1520-a-val.dtsi
@@ -124,16 +124,6 @@ reg_aud_dac_3v3: regulator-aud-dac-3v3 {
 		enable-active-high;
 	};
 
-	reg_vcc5v_usb: regulator-vcc5v-usb {
-		compatible = "regulator-fixed";
-		regulator-name = "VCC5V_USB";
-		regulator-min-microvolt = <5000000>;
-		regulator-max-microvolt = <5000000>;
-		gpio = <&gpio0 27 GPIO_ACTIVE_HIGH>;
-		enable-active-high;
-		regulator-always-on;
-	};
-
 	mbox_910t_client2: mbox_910t_client2 {
 		compatible = "thead,th1520-mbox-client";
 		mbox-names = "906";
@@ -219,14 +209,6 @@ &aon_suspend_ctrl {
 	status = "okay";
 };
 
-&aogpio {
-	sel-usb-hub-hog {
-		gpio-hog;
-		gpios = <4 GPIO_ACTIVE_HIGH>;
-		output-high;
-	};
-};
-
 &gmac0 {
 	pinctrl-names = "default";
 	pinctrl-0 = <&gmac0_pins>;
@@ -830,20 +812,6 @@ &usb_dwc3 {
 	status = "okay";
 	#address-cells = <1>;
 	#size-cells = <0>;
-
-	hub_2_0: hub@1 {
-		compatible = "usb2109,2817";
-		reg = <1>;
-		peer-hub = <&hub_3_0>;
-		vbus-supply = <&reg_vcc5v_usb>;
-	};
-
-	hub_3_0: hub@2 {
-		compatible = "usb2109,817";
-		reg = <2>;
-		peer-hub = <&hub_2_0>;
-		vbus-supply = <&reg_vcc5v_usb>;
-	};
 };
 
 &adc {
-- 
2.43.0

