From 83a8caa600cfe30726cef511e0aeb06a8f1b073d Mon Sep 17 00:00:00 2001
From: Han Gao <rabenda.cn@gmail.com>
Date: Thu, 3 Apr 2025 01:09:18 +0800
Subject: [PATCH 361/400] drivers: xuantie: nna: fix out-of-tree compilation

Signed-off-by: Han Gao <rabenda.cn@gmail.com>
---
 drivers/soc/xuantie/nna/vha/Makefile | 8 ++++----
 1 file changed, 4 insertions(+), 4 deletions(-)

diff --git a/drivers/soc/xuantie/nna/vha/Makefile b/drivers/soc/xuantie/nna/vha/Makefile
index b0191bb05567..28a7febfccaa 100644
--- a/drivers/soc/xuantie/nna/vha/Makefile
+++ b/drivers/soc/xuantie/nna/vha/Makefile
@@ -12,10 +12,10 @@ vha-y                   += vha_devfreq.o
 vha-y                   += vha_dbg.o vha_pdump.o
 
 ifeq ($(CONFIG_HW_AX3_MC), y) 
-subdir-ccflags-y        += -I$(src)/multi
+subdir-ccflags-y        += -I$(srctree)/$(src)/multi
 vha-y                   += multi/vha_dev.o multi/vha_wm.o multi/vha_mmu.o multi/vha_mt19937.o
 else
-subdir-ccflags-y        += -I$(src)/single
+subdir-ccflags-y        += -I$(srctree)/$(src)/single
 vha-y                   += single/vha_dev.o single/vha_cnn.o single/vha_mmu.o
 vha-$(CONFIG_HW_AX2)    += single/vha_dev_ax2.o
 vha-$(CONFIG_HW_AX3)    += single/vha_dev_ax3.o
@@ -49,8 +49,8 @@ ccflags-$(CONFIG_VHA_SYS_AURA)   += -DCFG_SYS_AURA
 ccflags-$(CONFIG_VHA_SYS_VAGUS)  += -DCFG_SYS_VAGUS
 ccflags-$(CONFIG_VHA_SYS_MAGNA)  += -DCFG_SYS_MAGNA
 
-ccflags-y        += -I$(src)/$(PLAT)/
-subdir-ccflags-y += -I$(src)
+ccflags-y        += -I$(srctree)/$(src)/$(PLAT)/
+subdir-ccflags-y += -I$(srctree)/$(src)
 
 ifdef CONFIG_NEXEF_NNPU_INCLUDE
     subdir-ccflags-y += -I${CONFIG_NEXEF_NNPU_INCLUDE}
-- 
2.43.0

